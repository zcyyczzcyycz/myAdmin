(function(){var t={8090:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},i=[],r={},l=r,o=a(1001),n=(0,o.Z)(l,s,i,!1,null,null,null),c=n.exports,d=a(2631),u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Login bg1"},[e("div",{staticClass:"gologin"},[e("h2",[t._v("师 生 后 台 管 理 系 统")]),e("el-button",{attrs:{plain:"",round:""},on:{click:t.openDialogLogin}},[t._v("登录")]),e("el-button",{attrs:{plain:"",round:""},on:{click:function(e){t.dialogRegister=!0}}},[t._v("注册")])],1),e("div",{staticClass:"login"},[e("el-dialog",{attrs:{title:"登录",width:"30%",visible:t.dialogLogin},on:{"update:visible":function(e){t.dialogLogin=e}}},[e("el-form",{ref:"loginForm",attrs:{"label-width":"80px",rules:t.registerRules,model:t.loginData}},[e("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[e("el-input",{model:{value:t.loginData.userName,callback:function(e){t.$set(t.loginData,"userName",e)},expression:"loginData.userName"}})],1),e("el-form-item",{attrs:{label:"密码",prop:"password2"}},[e("el-input",{attrs:{type:"password"},model:{value:t.loginData.password,callback:function(e){t.$set(t.loginData,"password",e)},expression:"loginData.password"}})],1),e("el-form-item",{attrs:{label:"身份码",prop:"id"}},[e("el-input",{model:{value:t.loginData.id,callback:function(e){t.$set(t.loginData,"id",t._n(e))},expression:"loginData.id"}})],1),e("el-form-item",{staticClass:"aboutPwd"},[e("el-checkbox",{attrs:{label:"记住密码",name:"type"},on:{change:t.removeItem},model:{value:t.rememberPwd,callback:function(e){t.rememberPwd=e},expression:"rememberPwd"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogLogin=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.toAdministration}},[t._v("确 定")])],1)],1)],1),e("div",{staticClass:"register"},[e("el-dialog",{attrs:{title:"注册",width:"30%",visible:t.dialogRegister},on:{"update:visible":function(e){t.dialogRegister=e}}},[e("el-form",{ref:"registerForm",attrs:{"label-width":"80px",rules:t.registerRules,model:t.registerData}},[e("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[e("el-input",{model:{value:t.registerData.userName,callback:function(e){t.$set(t.registerData,"userName",e)},expression:"registerData.userName"}})],1),e("el-form-item",{attrs:{label:"密码",prop:"password"}},[e("el-input",{attrs:{type:"password"},model:{value:t.registerData.password,callback:function(e){t.$set(t.registerData,"password",e)},expression:"registerData.password"}})],1),e("el-form-item",{attrs:{label:"确认密码",prop:"repeatPwd"}},[e("el-input",{attrs:{type:"password"},model:{value:t.registerData.repeatPwd,callback:function(e){t.$set(t.registerData,"repeatPwd",e)},expression:"registerData.repeatPwd"}})],1),e("el-form-item",{attrs:{label:"编号",prop:"id"}},[e("el-input",{attrs:{placeholder:"请提供您的编号号码"},model:{value:t.registerData.id,callback:function(e){t.$set(t.registerData,"id",t._n(e))},expression:"registerData.id"}})],1),e("el-form-item",{attrs:{label:"姓名",prop:"name"}},[e("el-input",{attrs:{placeholder:"请填写您的真实姓名"},model:{value:t.registerData.name,callback:function(e){t.$set(t.registerData,"name",e)},expression:"registerData.name"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.closeDialogRegister}},[t._v("取 消")]),e("el-button",{on:{click:t.registerUser}},[t._v("确 定")])],1)],1)],1),e("div",{staticClass:"retrievepwd"},[e("el-dialog",{attrs:{title:"找回密码",width:"30%",visible:t.dialogRetrievepwd},on:{"update:visible":function(e){t.dialogRetrievepwd=e}}},[e("el-form",{ref:"form",attrs:{"label-width":"80px"}},[e("el-form-item",{attrs:{label:"账号"}},[e("el-input")],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogRetrievepwd=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogRetrievepwd=!1}}},[t._v("确 定")])],1)],1)],1),e("el-dialog",{attrs:{title:"",width:"30%",visible:t.dialogRegisterSuccess},on:{"update:visible":function(e){t.dialogRegisterSuccess=e}}},[e("el-result",{attrs:{icon:"success",title:"注册成功",subTitle:"用户名:"+t.userInfo.userName+" 密码:"+t.userInfo.password}},[e("template",{slot:"extra"},[e("el-button",{attrs:{size:"medium"},on:{click:t.openLoginDialog}},[t._v("去登录")])],1)],2)],1),e("el-dialog",{attrs:{title:"",width:"30%",visible:t.dialogRegisterFail},on:{"update:visible":function(e){t.dialogRegisterFail=e}}},[e("el-result",{attrs:{icon:"error",title:"注册失败，不存在这个用户",subTitle:"请重新尝试"}},[e("template",{slot:"extra"},[e("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.openRegisterDialog}},[t._v("返回注册")])],1)],2)],1),e("el-dialog",{attrs:{title:"",width:"30%",visible:t.dialogOccupy},on:{"update:visible":function(e){t.dialogOccupy=e}}},[e("el-result",{attrs:{icon:"info",title:"注册失败",subTitle:"用户名已被占用，请重新注册"}},[e("template",{slot:"extra"},[e("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.openRegisterDialog}},[t._v("返回注册")])],1)],2)],1),e("el-dialog",{attrs:{title:"",width:"30%",visible:t.alreadyDialog},on:{"update:visible":function(e){t.alreadyDialog=e}}},[e("el-result",{attrs:{icon:"warning",title:"注册失败",subTitle:"该用户已经注册过，请进行登录"}},[e("template",{slot:"extra"},[e("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.openLoginDialog}},[t._v("去登录")])],1)],2)],1)],1)},m=[],g={data(){var t=(t,e,a)=>{let s=/^[a-zA-Z]\w{5,17}$/;""===e?a(new Error("请输入密码")):s.test(this.registerData.password)?a():a(new Error("必须以字母开头,不能包含中文,且长度在6-18之间"))},e=(t,e,a)=>{let s=/^[a-zA-Z]\w{5,17}$/;""===e?a(new Error("请输入密码")):s.test(this.loginData.password)?a():a(new Error("必须以字母开头,不能包含中文,且长度在6-18之间"))},s=(t,e,a)=>{""===e?a(new Error("请再次输入密码")):e!==this.registerData.password?a(new Error("两次输入密码不一致!")):a()};return{registerForm:{radio:""},dialogRetrievepwd:!1,dialogRegister:!1,dialogLogin:!1,dialogRegisterSuccess:!1,dialogRegisterFail:!1,dialogOccupy:!1,alreadyDialog:!1,rememberPwd:!1,background:a(5799),registerData:{userName:"",password:"",repeatPwd:"",id:"",name:""},loginData:{userName:"",password:"",id:""},userInfo:{userName:"111",password:"qqqwwweee"},registerRules:{userName:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:4,max:10,message:"长度在 4 到 10 个字符",trigger:"blur"}],password:[{validator:t,required:!0,trigger:"blur"}],password2:[{validator:e,required:!0,trigger:"blur"}],repeatPwd:[{validator:s,required:!0,trigger:"blur"}],id:[{required:!0,message:"身份码不能为空"},{type:"number",message:"编号必须为数字值"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:6,message:"长度在 2 到 6 个字符",trigger:"blur"}]}}},methods:{async getUserInfo(){let{data:t}=await this.$axios({url:`users/getuserInfo?id=${sessionStorage.getItem("id")}`}),e=document.querySelector(".Login").className.split(" ");if(t.data[0].background)switch(t.data[0].background){case"http://localhost:8080/img/loginbg1.d73501f8.png":e.splice(1,1,"bg1");break;case"http://localhost:8080/img/loginbg2.9090118a.png":e.splice(1,1,"bg2");break;case"http://localhost:8080/img/loginbg3.24afeab4.png":e.splice(1,1,"bg3");break;case"http://localhost:8080/img/loginbg4.6ccb7a1e.png":e.splice(1,1,"bg4");break;case"http://localhost:8080/img/loginbg5.3164b0af.png":e.splice(1,1,"bg5");break;default:break}let a=e.join().replace(","," ");document.querySelector(".Login").className=a},openDialogLogin(){this.dialogLogin=!0,null!=localStorage.getItem("userName")?this.loginData.userName=localStorage.getItem("userName"):this.loginData.userName=this.loginData.userName,null!=localStorage.getItem("password")?this.loginData.password=localStorage.getItem("password"):this.loginData.password=this.loginData.password,null!=localStorage.getItem("id")?this.loginData.id=+localStorage.getItem("id"):this.loginData.id=this.loginData.id,localStorage.getItem("rememberPwd")?this.rememberPwd=!!localStorage.getItem("rememberPwd"):this.rememberPwd=!1},toAdministration(){this.$refs.loginForm.validate((async t=>{if(!t)return!1;{let{data:t}=await this.$axios({method:"get",url:"users/login",params:this.loginData});if(t.data.length)if(t.data[0].username==this.loginData.userName&&t.data[0].password==this.loginData.password){this.$message.success("登录成功");let{data:t}=await this.$axios({url:"users/readXdata"});this.$store.commit("getXdata",t.data),localStorage.setItem("userName",this.loginData.userName),this.$axios({method:"put",url:"users/setVisited"}),sessionStorage.setItem("token","login"),sessionStorage.setItem("id",this.loginData.id),this.rememberPwd?(localStorage.setItem("password",this.loginData.password),localStorage.setItem("id",this.loginData.id),sessionStorage.setItem("id",this.loginData.id),localStorage.setItem("rememberPwd",this.rememberPwd)):(localStorage.removeItem("password"),localStorage.removeItem("id"),localStorage.removeItem("rememberPwd")),this.$router.replace("/administration")}else this.$message.error("登录失败，请检查您的用户名或密码是否正确，身份码是否有效");else this.$message.error("登录失败，请检查您的用户名或密码是否正确，身份码是否有效")}}))},removeItem(){localStorage.removeItem("password"),localStorage.removeItem("id"),localStorage.removeItem("rememberPwd")},closeDialogRegister(){this.dialogRegister=!1,this.$refs.registerForm.resetFields()},registerUser(){this.$refs.registerForm.validate((async t=>{if(!t)return!1;{let{data:t}=await this.$axios({method:"put",url:"users/registerusers",data:this.registerData});202==t.status?this.dialogOccupy=!0:204==t.status?this.alreadyDialog=!0:201==t.status?(this.userInfo.userName=t.data[0].username,this.userInfo.password=t.data[0].password,this.dialogRegister=!1,this.dialogRegisterSuccess=!0):this.dialogRegisterFail=!0}}))},openLoginDialog(){this.dialogRegisterSuccess=!1,this.alreadyDialog=!1,this.dialogRegister=!1,this.dialogLogin=!0},openRegisterDialog(){this.dialogRegisterFail=!1,this.dialogOccupy=!1,this.dialogRegister=!0}},created(){this.getUserInfo()}},p=g,h=(0,o.Z)(p,u,m,!1,null,"72f398e9",null),f=h.exports,b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"administration"},[e("el-container",[e("el-header",[e("img",{attrs:{src:a(5208),alt:""}}),e("h2",[t._v("管 理 后 台")]),e("div",{staticClass:"headerRight"},[e("el-avatar",{attrs:{src:t.avatar}}),e("i",{staticClass:"el-icon-switch-button edit",on:{click:t.editLogin}},[t._v("  退出登录")])],1)]),e("el-container",[e("el-aside",{attrs:{width:"200px"}},[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.activeIndex,"background-color":"var(--theme)","text-color":"#fff","active-text-color":"#009900","unique-opened":!0,router:!0}},[e("el-menu-item",{attrs:{index:"welcome"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-s-home"}),e("span",[t._v("欢迎")])])],2),e("el-submenu",{attrs:{index:"user"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-user"}),e("span",[t._v("师生信息")])]),e("el-menu-item",{attrs:{index:"usersInfo"}},[e("i",{staticClass:"el-icon-s-operation"}),t._v("师生名单")])],2),e("el-submenu",{attrs:{index:"test"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-tickets"}),e("span",[t._v("任务板块")])]),e("el-menu-item",{attrs:{index:"release"}},[e("i",{staticClass:"el-icon-coin"}),t._v("发布任务")]),e("el-menu-item",{attrs:{index:"answer"}},[e("i",{staticClass:"el-icon-edit"}),t._v("开始任务")]),e("el-menu-item",{attrs:{index:"score"}},[e("i",{staticClass:"el-icon-s-operation"}),t._v("成绩单")])],2),e("el-menu-item",{attrs:{index:"setting"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-location"}),e("span",[t._v("设置")])])],2)],1)],1),e("el-main",[e("router-view")],1)],1)],1)],1)},v=[],y={data(){return{activeIndex:"welcome",avatar:a(6609),userInfo:""}},methods:{editLogin(){sessionStorage.removeItem("token"),document.querySelector("html").className="theme1 color1",this.$router.replace("/login")},async getUserInfo(){let{data:t}=await this.$axios({url:`users/getuserInfo?id=${sessionStorage.getItem("id")}`});this.userInfo=t.data,t.data[0].src&&(this.avatar=t.data[0].src)},resetScore(){let t=new Date;if(t=t.toLocaleDateString(),t==localStorage.getItem("date"))return!0;this.$axios({url:"users/resetScore"}),localStorage.setItem("date",t)}},created(){this.$bus.$on("avatar",(t=>{this.avatar=t})),this.getUserInfo().then((()=>{this.$store.commit("setting",this.userInfo)})),this.resetScore()}},w=y,x=(0,o.Z)(w,b,v,!1,null,"22ee60a1",null),S=x.exports,k=function(){var t=this,e=t._self._c;return e("div",{staticClass:"welcome"},[e("el-card",{staticClass:"card1",attrs:{shadow:"hover"}},[e("h3",[t._v("网站访问总量")]),e("span",[t._v(t._s(t.visited))])]),e("el-card",{staticClass:"card2",attrs:{shadow:"hover"}},[e("h3",[t._v("现在是")]),e("span",[t._v(t._s(t.time))])]),e("el-card",{staticClass:"card3",attrs:{shadow:"hover"}},[e("h3",[t._v("已注册")]),e("div",{attrs:{id:"myCharts2"}})]),e("el-card",{staticClass:"card4",attrs:{shadow:"hover"}},[e("div",{attrs:{id:"myCharts"}})])],1)},_=[],D={data(){return{visited:0,time:(new Date).toLocaleString(),registered:"1",unRegister:"1",xData:"",xAxis:""}},methods:{async getUsers(){let{data:t}=await this.$axios({url:"users/getusers"}),e=t.data.filter((t=>"已注册"==t.register)),a=t.data.filter((t=>"未注册"==t.register));this.registered=e.length,this.unRegister=a.length},async getXAxis(){let{data:t}=await this.$axios({url:"users/readXaxis"});this.xAxis=t.data},async getVisited(){let{data:t}=await this.$axios({url:"users/getVisited"});this.visited=t.data}},mounted(){const t=echarts.init(document.querySelector("#myCharts")),e=echarts.init(document.querySelector("#myCharts2"));setTimeout((()=>{const a={title:{text:"网站访问7日历史记录（仅访问会产生记录）"},tooltip:{trigger:"item"},xAxis:{type:"category",data:this.xAxis},yAxis:{type:"value"},series:[{data:this.xData,type:"line"}]};t.setOption(a);const s={tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left",bottom:0},color:["#99FF00","#FF6633"],series:[{type:"pie",data:[{value:this.registered,name:"已注册"},{value:this.unRegister,name:"未注册"}]}]};e.setOption(s)}),500)},created(){setInterval((()=>{let t=new Date;this.time=t.toLocaleString()}),1e3),this.getUsers(),this.getXAxis(),this.getVisited(),this.$store.state.xData&&localStorage.setItem("xData",this.$store.state.xData,1),this.xData=localStorage.getItem("xData").split(",")}},$=D,I=(0,o.Z)($,k,_,!1,null,"29d3e508",null),U=I.exports,C=function(){var t=this,e=t._self._c;return e("div",{staticClass:"setting"},[e("el-card",{attrs:{shadow:"never"}},[e("div",{staticClass:"top"},[e("div",{staticClass:"headPortrait"},[e("el-avatar",{attrs:{src:t.mySetting.avatar}}),e("el-button",{attrs:{plain:""},on:{click:t.openDialogAvatar}},[t._v("更改头像")])],1),e("div",{staticClass:"userinfo"},[e("ul",[e("li",[t._v(" 姓名： "),e("span",[t._v(t._s(t.userInfo.name))]),t._v(" 性别： "),e("span",[t._v(t._s(t.userInfo.sex))])]),e("li",[t._v(" 年龄： "),e("span",[t._v(t._s(t.userInfo.age))]),t._v(" 班级： "),e("span",[t._v(t._s(t.userInfo.class))])]),e("li",[t._v(" 身份： "),e("span",[t._v(t._s(t.userInfo.job))]),t._v(" 联系方式： "),e("span",[t._v(t._s(t.userInfo.phone))])])])])]),e("div",{staticClass:"bottom"},[e("el-form",{ref:"settingForm",attrs:{"label-width":"50px"}},[e("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"字体样式","label-width":"80px"}},[e("el-radio-group",{staticStyle:{"margin-left":"25px"},model:{value:t.mySetting.fontFamily,callback:function(e){t.$set(t.mySetting,"fontFamily",e)},expression:"mySetting.fontFamily"}},[e("el-radio",{attrs:{label:"微软雅黑"}}),e("el-radio",{attrs:{label:"宋体"}}),e("el-radio",{attrs:{label:"仿宋"}}),e("el-radio",{attrs:{label:"楷体"}}),e("el-radio",{attrs:{label:"幼圆"}})],1)],1),e("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"主题颜色","label-width":"80px"}},[e("el-radio-group",{staticStyle:{"margin-left":"25px"},model:{value:t.mySetting.themeColor,callback:function(e){t.$set(t.mySetting,"themeColor",e)},expression:"mySetting.themeColor"}},[e("el-radio",{attrs:{label:"青色"}}),e("el-radio",{attrs:{label:"粉色"}}),e("el-radio",{attrs:{label:"紫色"}}),e("el-radio",{attrs:{label:"蓝色"}}),e("el-radio",{attrs:{label:"橙色"}}),e("el-radio",{attrs:{label:"绿色"}}),e("el-radio",{attrs:{label:"红色"}})],1)],1),e("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"字体颜色","label-width":"80px"}},[e("el-radio-group",{staticStyle:{"margin-left":"25px"},model:{value:t.mySetting.fontColor,callback:function(e){t.$set(t.mySetting,"fontColor",e)},expression:"mySetting.fontColor"}},[e("el-radio",{attrs:{label:"黑色"}}),e("el-radio",{attrs:{label:"粉红色"}}),e("el-radio",{attrs:{label:"淡紫色"}}),e("el-radio",{attrs:{label:"蓝色"}}),e("el-radio",{attrs:{label:"绿色"}})],1)],1),e("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"登录背景","label-width":"80px"}},[e("el-button",{attrs:{plain:""},on:{click:t.openDialogLoginBg}},[t._v("更改登录背景")])],1),e("el-button",{attrs:{type:"primary",plain:""}},[t._v("取消")]),e("el-button",{attrs:{type:"primary",plain:""},on:{click:t.keep}},[t._v("保存")])],1)],1)]),e("el-dialog",{attrs:{title:"提示",visible:t.dialogAvatar,width:"50%"},on:{"update:visible":function(e){t.dialogAvatar=e}}},[e("div",{ref:"pictures",staticClass:"pictures"},[e("img",{attrs:{src:a(6609),alt:""},on:{click:t.getSrc}}),e("img",{attrs:{src:a(8816),alt:""},on:{click:t.getSrc}}),e("img",{attrs:{src:a(2199),alt:""},on:{click:t.getSrc}}),e("img",{attrs:{src:a(5903),alt:""},on:{click:t.getSrc}}),e("img",{attrs:{src:a(1190),alt:""},on:{click:t.getSrc}}),e("img",{attrs:{src:a(9013),alt:""},on:{click:t.getSrc}}),e("img",{attrs:{src:a(8566),alt:""},on:{click:t.getSrc}}),e("img",{attrs:{src:a(5851),alt:""},on:{click:t.getSrc}}),e("img",{attrs:{src:a(3896),alt:""},on:{click:t.getSrc}}),e("img",{attrs:{src:a(6481),alt:""},on:{click:t.getSrc}}),e("img",{attrs:{src:a(3229),alt:""},on:{click:t.getSrc}}),e("img",{attrs:{src:a(7267),alt:""},on:{click:t.getSrc}})])]),e("el-dialog",{attrs:{title:"选择1个背景",visible:t.dialogLoginBg,width:"50%"},on:{"update:visible":function(e){t.dialogLoginBg=e}}},[e("div",{ref:"pictures2",staticClass:"pictures2"},[e("img",{attrs:{src:a(5799),alt:""},on:{click:t.getBgSrc}}),e("img",{attrs:{src:a(9526),alt:""},on:{click:t.getBgSrc}}),e("img",{attrs:{src:a(4833),alt:""},on:{click:t.getBgSrc}}),e("img",{attrs:{src:a(4623),alt:""},on:{click:t.getBgSrc}}),e("img",{attrs:{src:a(1890),alt:""},on:{click:t.getBgSrc}})])])],1)},F=[],j={data(){return{resource:"",userInfo:{},userInfo2:{},ifKeep:!1,dialogAvatar:!1,dialogLoginBg:!1,mySetting:{avatar:a(6609),loginBg:a(5799),fontFamily:"微软雅黑",themeColor:"青色",fontColor:"黑色",id:sessionStorage.getItem("id")}}},methods:{async getUserInfo(){let{data:t}=await this.$axios({url:`users/getuserInfo?id=${sessionStorage.getItem("id")}`});this.userInfo=t.data[0],this.userInfo2=t.data,t.data[0].src&&(this.mySetting.avatar=t.data[0].src),t.data[0].fontfamily&&(this.mySetting.fontFamily=t.data[0].fontfamily),t.data[0].theme&&(this.mySetting.themeColor=t.data[0].theme),t.data[0].color&&(this.mySetting.fontColor=t.data[0].color),t.data[0].background&&(this.mySetting.loginBg=t.data[0].background)},getSrc(t){this.mySetting.avatar=t.target.src,this.dialogAvatar=!1},getBgSrc(t){this.mySetting.loginBg=t.target.src,this.dialogLoginBg=!1},setting(){switch(this.mySetting.fontFamily){case"微软雅黑":document.querySelector("html").style.fontFamily="Microsoft YaHe";break;case"宋体":document.querySelector("html").style.fontFamily="SimSun";break;case"仿宋":document.querySelector("html").style.fontFamily="FangSong";break;case"楷体":document.querySelector("html").style.fontFamily="KaiTi";break;case"幼圆":document.querySelector("html").style.fontFamily="YouYuan";break;default:break}let t=document.querySelector("html").className.split(" ");switch(this.mySetting.themeColor){case"青色":t.splice(0,1,"theme1");break;case"粉色":t.splice(0,1,"theme2");break;case"紫色":t.splice(0,1,"theme3");break;case"蓝色":t.splice(0,1,"theme4");break;case"橙色":t.splice(0,1,"theme5");break;case"绿色":t.splice(0,1,"theme6");break;case"红色":t.splice(0,1,"theme7");break;default:break}switch(this.mySetting.fontColor){case"黑色":t.splice(1,1,"color1");break;case"粉红色":t.splice(1,1,"color2");break;case"淡紫色":t.splice(1,1,"color3");break;case"蓝色":t.splice(1,1,"color4");break;case"绿色":t.splice(1,1,"color5");break;default:break}let e=t.join().replace(","," ");document.querySelector("html").className=e},openDialogAvatar(){this.dialogAvatar=!0,this.$nextTick((()=>{[...this.$refs.pictures.children].forEach((t=>{t.src==this.mySetting.avatar?t.style.outline="8px red solid":t.style.outline=""}))}))},openDialogLoginBg(){this.dialogLoginBg=!0,this.$nextTick((()=>{[...this.$refs.pictures2.children].forEach((t=>{console.log(t.src),t.src==this.mySetting.loginBg?t.style.outline="8px red solid":t.style.outline=""}))}))},async keep(){this.ifKeep=!0;let{data:t}=await this.$axios({method:"put",url:"users/setting",data:this.mySetting});200==t.status?(this.$message.success("保存成功"),this.$bus.$emit("avatar",this.mySetting.avatar)):this.$message.error("修改失败")}},watch:{mySetting:{handler(){this.setting()},deep:!0}},created(){this.getUserInfo()},beforeRouteLeave(t,e,a){this.getUserInfo().then((()=>{this.$store.commit("setting",this.userInfo2)})),a()}},T=j,P=(0,o.Z)(T,C,F,!1,null,"625d21a2",null),R=P.exports,N=function(){var t=this,e=t._self._c;return e("div",{staticClass:"usersInfo"},[e("el-card",{attrs:{shadow:"never"}},[e("div",{staticClass:"userHead"},[e("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,model:t.filterUsersData}},[e("el-form-item",[e("el-input",{attrs:{clearable:!0,placeholder:"查询"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filterUsers.apply(null,arguments)}},model:{value:t.filterUsersData.info,callback:function(e){t.$set(t.filterUsersData,"info",e)},expression:"filterUsersData.info"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.filterUsers}},[t._v("查询")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogAddUsers=!0}}},[t._v("添加")]),e("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:t.searchModelChange}},[t._v(t._s(t.searchStyle.text))]),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"恢复初始表格",placement:"right-start"}},[e("el-button",{attrs:{icon:"el-icon-refresh-right",circle:""},on:{click:function(e){return t.getUsers()}}})],1)],1)],1),e("div",{staticClass:"goBottom",attrs:{id:"top"}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"去往底部",placement:"right-start"}},[e("a",{attrs:{href:"#bottom"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-caret-bottom",circle:""}})],1)])],1)],1),e("el-table",{staticStyle:{width:"100%"},attrs:{id:"tableOut",data:t.pageTableData,"row-class-name":t.tableRowClassName},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{label:"身份码",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(a.row.id))])]}}])}),e("el-table-column",{attrs:{label:"姓名",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(a.row.name))])]}}])}),e("el-table-column",{attrs:{label:"年龄",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(a.row.age))])]}}])}),e("el-table-column",{attrs:{label:"性别",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(a.row.sex))])]}}])}),e("el-table-column",{attrs:{label:"班级",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(a.row.class))])]}}])}),e("el-table-column",{attrs:{label:"联系方式",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(a.row.phone))])]}}])}),e("el-table-column",{attrs:{label:"职位",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(a.row.job))])]}}])}),e("el-table-column",{attrs:{label:"注册",width:"80"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tag",{attrs:{type:"已注册"==a.row.register?"success":"warning"}},[t._v(t._s(a.row.register))])]}}])}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.getFormItemsDate(a.row)}}},[t._v("编辑")]),e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.deleteUsers(a.row.id)}}},[t._v("删除")])]}}])}),e("el-table-column",{attrs:{type:"selection",width:"80"}})],1),t.printStyle.ifPrintStyle?t._e():e("el-pagination",{staticStyle:{"margin-top":"25px"},attrs:{background:"","current-page":t.nowPage,"page-sizes":[3,5,7,10],"page-size":t.initNum,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.nowPage=e},"update:current-page":function(e){t.nowPage=e}}}),e("div",{staticClass:"userBottom"},[e("el-upload",{ref:"upload",staticStyle:{"text-align":"left",margin:"15px 0"},attrs:{action:"http://192.168.43.121:9999/users/import",accept:".xlsx,.xls","auto-upload":!1}},[e("el-button",{staticStyle:{"margin-right":"15px"},attrs:{slot:"trigger",icon:"el-icon-folder-opened"},slot:"trigger"},[t._v("选取文件")]),e("el-button",{attrs:{icon:"el-icon-download"},on:{click:t.submitUpload}},[t._v("导入")]),e("el-button",{attrs:{icon:"el-icon-upload2"},on:{click:t.exportExcel}},[t._v("导出")]),e("el-button",{attrs:{icon:"el-icon-toilet-paper"},on:{click:t.printExcel}},[t._v("打印")]),e("el-button",{attrs:{id:"bottom",icon:"el-icon-sort"},on:{click:t.changePrint}},[t._v(t._s(t.printStyle.text))])],1),e("div",{staticClass:"goTop"},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"去往顶部",placement:"right-start"}},[e("a",{attrs:{href:"#top"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-caret-top",circle:""}})],1)])],1)],1)],1),e("div",{staticClass:"addUsersClass"},[e("el-dialog",{attrs:{title:"添加用户",width:"30%",visible:t.dialogAddUsers},on:{"update:visible":function(e){t.dialogAddUsers=e}}},[e("el-form",{ref:"addUsersForm",attrs:{rules:t.addUsersRules,"label-width":"50px",model:t.addUsersData}},[e("el-form-item",{attrs:{label:"姓名","label-width":"80px",prop:"name"}},[e("el-input",{model:{value:t.addUsersData.name,callback:function(e){t.$set(t.addUsersData,"name",e)},expression:"addUsersData.name"}})],1),e("el-form-item",{attrs:{label:"年龄","label-width":"80px",prop:"age"}},[e("el-input",{model:{value:t.addUsersData.age,callback:function(e){t.$set(t.addUsersData,"age",t._n(e))},expression:"addUsersData.age"}})],1),e("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"性别","label-width":"80px",prop:"sex"}},[e("el-radio-group",{staticStyle:{"margin-left":"25px"},model:{value:t.addUsersData.sex,callback:function(e){t.$set(t.addUsersData,"sex",e)},expression:"addUsersData.sex"}},[e("el-radio",{attrs:{label:"男"}}),e("el-radio",{attrs:{label:"女"}})],1)],1),e("el-form-item",{attrs:{label:"联系方式","label-width":"80px",prop:"phone"}},[e("el-input",{model:{value:t.addUsersData.phone,callback:function(e){t.$set(t.addUsersData,"phone",e)},expression:"addUsersData.phone"}})],1),e("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"职位","label-width":"80px",prop:"job"}},[e("el-radio-group",{staticStyle:{"margin-left":"25px"},model:{value:t.addUsersData.job,callback:function(e){t.$set(t.addUsersData,"job",e)},expression:"addUsersData.job"}},[e("el-radio",{attrs:{label:"老师"}}),e("el-radio",{attrs:{label:"学生"}})],1)],1),e("el-form-item",{attrs:{label:"班级","label-width":"80px",prop:"class"}},[e("el-input",{model:{value:t.addUsersData.class,callback:function(e){t.$set(t.addUsersData,"class",e)},expression:"addUsersData.class"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogAddUsers=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.addusers}},[t._v("确 定")])],1)],1)],1),e("div",{staticClass:"updateUsersClass"},[e("el-dialog",{attrs:{title:"修改用户",width:"30%",visible:t.dialogUpdateUsers,top:"5vh"},on:{"update:visible":function(e){t.dialogUpdateUsers=e},close:function(e){return t.$refs.updateUsersForm.clearValidate()}}},[e("el-form",{ref:"updateUsersForm",attrs:{rules:t.addUsersRules,"label-width":"50px",model:t.UpdateData}},[e("el-form-item",{attrs:{label:"编号","label-width":"80px"}},[e("el-input",{attrs:{disabled:!0},model:{value:t.UpdateData.id,callback:function(e){t.$set(t.UpdateData,"id",e)},expression:"UpdateData.id"}})],1),e("el-form-item",{attrs:{label:"姓名","label-width":"80px",prop:"name"}},[e("el-input",{model:{value:t.UpdateData.name,callback:function(e){t.$set(t.UpdateData,"name",e)},expression:"UpdateData.name"}})],1),e("el-form-item",{attrs:{label:"年龄","label-width":"80px",prop:"age"}},[e("el-input",{model:{value:t.UpdateData.age,callback:function(e){t.$set(t.UpdateData,"age",t._n(e))},expression:"UpdateData.age"}})],1),e("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"性别","label-width":"80px",prop:"sex"}},[e("el-radio-group",{staticStyle:{"margin-left":"25px"},model:{value:t.UpdateData.sex,callback:function(e){t.$set(t.UpdateData,"sex",e)},expression:"UpdateData.sex"}},[e("el-radio",{attrs:{label:"男"}}),e("el-radio",{attrs:{label:"女"}})],1)],1),e("el-form-item",{attrs:{label:"联系方式","label-width":"80px",prop:"phone"}},[e("el-input",{model:{value:t.UpdateData.phone,callback:function(e){t.$set(t.UpdateData,"phone",e)},expression:"UpdateData.phone"}})],1),e("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"职位","label-width":"80px",prop:"job"}},[e("el-radio-group",{staticStyle:{"margin-left":"25px"},model:{value:t.UpdateData.job,callback:function(e){t.$set(t.UpdateData,"job",e)},expression:"UpdateData.job"}},[e("el-radio",{attrs:{label:"老师"}}),e("el-radio",{attrs:{label:"学生"}})],1)],1),e("el-form-item",{attrs:{label:"班级","label-width":"80px",prop:"class"}},[e("el-input",{model:{value:t.UpdateData.class,callback:function(e){t.$set(t.UpdateData,"class",e)},expression:"UpdateData.class"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogUpdateUsers=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.updateUsers}},[t._v("确 定")])],1)],1)],1)],1)},q=[],L=(a(2801),a(1295),a(7658),a(6154)),A=a.n(L),B=a(9325),H=a.n(B),O={data(){var t=(t,e,a)=>{let s=/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/;s.test(e)?a():a("您输入的电话号码不合法")};return{tableData:[],pageTableData:[],dialogAddUsers:!1,dialogUpdateUsers:!1,initNum:5,nowPage:1,searchStyle:{name:"vague",text:"模糊查询"},selectionData:[],printStyle:{ifPrintStyle:!1,text:"分页模式"},UpdateData:{},filterUsersData:{info:""},addUsersData:{name:"",age:"",sex:"",phone:"",job:"",class:""},addUsersRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:6,message:"长度在 2 到 6 个字符",trigger:"blur"}],age:[{required:!0,message:"年龄不能为空"},{type:"number",message:"年龄必须为数字值"}],sex:[{required:!0,message:"请选择您的性别",trigger:"blur"}],phone:[{required:!0,validator:t,trigger:"blur"}],job:[{required:!0,message:"请选择您的身份",trigger:"blur"}],class:[{required:!0,message:"请填写您所在的班级名称",trigger:"blur"}]}}},methods:{async getUsers(){let{data:t}=await this.$axios({url:"users/getusers"});this.pageTableData=this.tableData=t.data,this.printStyle.ifPrintStyle||(this.handleSizeChange(this.initNum),this.handleCurrentChange(this.nowPage),200===t.status?this.$message.success("已更新列表"):this.$message.error("操作失败"))},changePrint(){this.printStyle.ifPrintStyle?(this.printStyle.ifPrintStyle=!1,this.printStyle.text="分页模式",this.filterUsers()):(this.printStyle.ifPrintStyle=!0,this.printStyle.text="打印模式",this.pageTableData=this.tableData)},tableRowClassName({row:t,rowIndex:e}){return 1===e?"warning-row":3===e?"success-row":""},async addusers(){this.$refs.addUsersForm.validate((async t=>{if(!t)return!1;{let{data:t}=await this.$axios({method:"post",url:"users/addusers",data:this.addUsersData});this.$refs.addUsersForm.resetFields(),this.dialogAddUsers=!1,this.getUsers(),201===t.status?this.$message.success("添加成功"):this.$message.error("添加失败")}}))},async filterUsers(){let{data:t}=await this.$axios({url:`users/filterusers?model=${this.searchStyle.name}`,params:this.filterUsersData});this.tableData=t.data,this.printStyle.ifPrintStyle?this.pageTableData=this.tableData:this.handleSizeChange(this.initNum)},searchModelChange(t){"vague"===this.searchStyle.name?(this.searchStyle.name="accurate",this.searchStyle.text="精准查询"):(this.searchStyle.name="vague",this.searchStyle.text="模糊查询")},getFormItemsDate(t){let e=structuredClone(t);this.UpdateData=e,this.dialogUpdateUsers=!0},updateUsers(){this.$refs.updateUsersForm.validate((async t=>{if(!t)return!1;{let{data:t}=await this.$axios({method:"put",url:"users/updateusers",data:this.UpdateData});this.$refs.updateUsersForm.resetFields(),this.dialogUpdateUsers=!1,this.getUsers(),201===t.status?this.$message.success("修改成功"):this.$message.error("修改失败")}}))},deleteUsers(t){this.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{if(this.selectionData.length){let t=[];this.selectionData.forEach((e=>{t.push(e.id)}));let{data:e}=await this.$axios({method:"delete",url:"users/deleteusers",data:{id:t}});setTimeout((()=>{this.getUsers()}),500),202==e.status?this.$message.warning("用户已注册，不允许删除"):this.$message.success("删除成功!")}else{let{data:e}=await this.$axios({method:"delete",url:"users/deleteusers",data:{id:t}});this.getUsers(),202==e.status?this.$message.warning("用户已注册，不允许删除"):this.$message.success("删除成功!")}})).catch((()=>{this.$message.info("已取消删除")}))},handleSizeChange(t){this.pageTableData=this.tableData.filter(((e,a)=>a<t)),this.initNum=t},handleCurrentChange(t){this.pageTableData=this.tableData.filter(((e,a)=>a>=t*this.initNum-this.initNum&&a<t*this.initNum))},submitUpload(){this.$refs.upload.submit(),setTimeout((()=>{this.getUsers()}),500)},exportExcel(){var t={raw:!0},e=H().utils.table_to_book(document.querySelector("#tableOut"),t),a=H().write(e,{bookType:"xlsx",bookSST:!0,type:"array"});try{A().saveAs(new Blob([a],{type:"application/octet-stream"}),"用户个人信息.xlsx")}catch(s){"undefined"!==typeof console&&this.$message.warning("导出失败")}return a},handleSelectionChange(t){this.selectionData=t},printExcel(){window.print()}},created(){this.getUsers()}},Z=O,E=(0,o.Z)(Z,N,q,!1,null,"5341d63e",null),z=E.exports,V=function(){var t=this,e=t._self._c;return e("div",{staticClass:"release"},[e("el-card",{attrs:{shadow:"never"}},[e("div",{staticClass:"top"},[e("el-dropdown",{attrs:{"split-button":"",type:"primary"},on:{command:t.handleCommand}},[t._v(" html "),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{attrs:{command:"html 1"}},[t._v("第一套")]),e("el-dropdown-item",{attrs:{command:"html 2"}},[t._v("第二套")]),e("el-dropdown-item",{attrs:{command:"html 3"}},[t._v("第三套")])],1)],1),e("el-dropdown",{attrs:{"split-button":"",type:"primary"},on:{command:t.handleCommand}},[t._v(" css "),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{attrs:{command:"css 1"}},[t._v("第一套")]),e("el-dropdown-item",{attrs:{command:"css 2"}},[t._v("第二套")]),e("el-dropdown-item",{attrs:{command:"css 3"}},[t._v("第三套")])],1)],1),e("el-dropdown",{attrs:{"split-button":"",type:"primary"},on:{command:t.handleCommand}},[t._v(" js "),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{attrs:{command:"js 1"}},[t._v("第一套")]),e("el-dropdown-item",{attrs:{command:"js 2"}},[t._v("第二套")]),e("el-dropdown-item",{attrs:{command:"js 3"}},[t._v("第三套")])],1)],1),e("el-button",{attrs:{type:"success",disabled:"学生"==t.$store.state.userInfo.job},on:{click:t.addHistory}},[t._v("发布任务")])],1),e("div",[t.historyData.length?e("div",{staticClass:"list"},[e("ul",t._l(t.historyData,(function(a){return e("li",{key:a.id},[e("p",[a.date==t.myHistory.date?e("a",[t._v("任 务 进 行 中......。")]):e("a",[t._v("任务已结束")]),t._v(" 任 务 详 情：（html第"),e("span",[t._v(t._s(a.html))]),t._v("套，css第"),e("span",[t._v(t._s(a.css))]),t._v("套，js第"),e("span",[t._v(t._s(a.js))]),t._v("套） 由 "),e("span",[t._v(t._s(a.name))]),t._v("老 师 发 布，"),e("span",[t._v(t._s(a.date))])])])})),0)]):e("el-empty",{attrs:{description:"还没有发表过任务哦"}})],1)])],1)},Y=[],M={data(){return{myHistory:{html:1,css:1,js:1,name:"",class:"",date:""},historyData:[]}},methods:{async getHistory(){this.myHistory.class=this.$store.state.userInfo.class;let{data:t}=await this.$axios({url:`history/getHistory?class=${this.myHistory.class}`});this.historyData=t.data},handleCommand(t){let e=t.split(" ");switch(e[0]){case"html":this.myHistory.html=e[1];break;case"css":this.myHistory.css=e[1];break;case"js":this.myHistory.js=e[1];break;default:break}},async addHistory(){if(this.myHistory.name=this.$store.state.userInfo.name,this.myHistory.class=this.$store.state.userInfo.class,0==this.historyData.length&&(this.historyData=[{date:"1900/1/1"}]),this.historyData[0].date==this.myHistory.date)this.$message.warning("今天已经发布过任务了，无法重复发布");else{let{data:t}=await this.$axios({url:"history/addHistory",method:"post",data:this.myHistory});200==t.status?(this.$message.success("发布成功"),this.getHistory()):this.$message.success("发布失败")}}},created(){let t=new Date;this.myHistory.date=t.toLocaleDateString(),setTimeout((()=>{this.getHistory()}),0)}},X=M,K=(0,o.Z)(X,V,Y,!1,null,"3790e3ad",null),W=K.exports,G=function(){var t=this,e=t._self._c;return e("div",{staticClass:"answer"},[e("div",{staticClass:"choose"},[e("el-card",{staticClass:"html",attrs:{shadow:"never"}},["未完成"==t.$store.state.userInfo.html?e("div",[e("el-avatar"),e("h2",[t._v("html")]),e("el-button",{attrs:{type:"success"},on:{click:function(e){return t.goTest("html")}}},[t._v("开始答题")])],1):e("div",[e("el-result",{attrs:{icon:"success",title:"该科目任务已完成"}},[e("template",{slot:"extra"},[e("span",[t._v("分数："+t._s(t.$store.state.userInfo.html))])])],2)],1)]),e("el-card",{staticClass:"css",attrs:{shadow:"never"}},["未完成"==t.$store.state.userInfo.css?e("div",[e("el-avatar"),e("h2",[t._v("css")]),e("el-button",{attrs:{type:"success"},on:{click:function(e){return t.goTest("css")}}},[t._v("开始答题")])],1):e("div",[e("el-result",{attrs:{icon:"success",title:"该科目任务已完成"}},[e("template",{slot:"extra"},[e("span",[t._v("分数："+t._s(t.$store.state.userInfo.css))])])],2)],1)]),e("el-card",{staticClass:"js",attrs:{shadow:"never"}},["未完成"==t.$store.state.userInfo.js?e("div",[e("el-avatar"),e("h2",[t._v("js")]),e("el-button",{attrs:{type:"success"},on:{click:function(e){return t.goTest("js")}}},[t._v("开始答题")])],1):e("div",[e("el-result",{attrs:{icon:"success",title:"该科目任务已完成"}},[e("template",{slot:"extra"},[e("span",[t._v("分数："+t._s(t.$store.state.userInfo.js))])])],2)],1)])],1)])},J=[],Q={data(){return{newDate:[]}},methods:{async goTest(t){let e=new Date,{data:a}=await this.$axios({url:`history/getDate?class=${this.$store.state.userInfo.class}`});if(a.data.length>0)if(a.data[0].date==e.toLocaleDateString()){switch(t){case"html":sessionStorage.setItem("subject","html"),sessionStorage.setItem("number",this.newDate[0].html);break;case"css":sessionStorage.setItem("subject","css"),sessionStorage.setItem("number",this.newDate[0].css);break;case"js":sessionStorage.setItem("subject","js"),sessionStorage.setItem("number",this.newDate[0].js);break;default:break}this.$router.push("/administration/test")}else this.$message.warning("请先发布任务");else this.$message.warning("请先发布任务")},async getHistory(){let{data:t}=await this.$axios({url:`history/getDate?class=${this.$store.state.userInfo.class}`});this.newDate=t.data}},created(){setTimeout((()=>{this.getHistory()}),0)}},tt=Q,et=(0,o.Z)(tt,G,J,!1,null,"0b4053eb",null),at=et.exports,st=function(){var t=this,e=t._self._c;return e("div",{staticClass:"score"},[e("el-card",{attrs:{shadow:"never"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[e("el-table-column",{attrs:{prop:"id",label:"ID",width:"180"}}),e("el-table-column",{attrs:{prop:"name",label:"姓名"}}),e("el-table-column",{attrs:{prop:"html",sortable:"",label:"html"}}),e("el-table-column",{attrs:{prop:"css",sortable:"",label:"css"}}),e("el-table-column",{attrs:{prop:"js",sortable:"",label:"js"}}),e("el-table-column",{attrs:{prop:"job",label:"职务"}}),e("el-table-column",{attrs:{prop:"class",label:"班级"}})],1)],1)],1)},it=[],rt={data(){return{tableData:[]}},methods:{async getScoreList(){let{data:t}=await this.$axios({url:`users/getScore?class=${this.$store.state.userInfo.class}`});console.log(t.data),this.tableData=t.data}},created(){setTimeout((()=>{this.getScoreList()}),0)}},lt=rt,ot=(0,o.Z)(lt,st,it,!1,null,"77c4724d",null),nt=ot.exports,ct=function(){var t=this,e=t._self._c;return e("div",{staticClass:"test"},[e("el-card",{attrs:{shadow:"never"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left",circle:""},on:{click:t.toAnswer}}),t._l(t.nowTestInfo,(function(a){return e("div",{key:a.id,staticClass:"testing"},[e("p",[t._v("第"),e("span",[t._v(t._s(t.index+1))]),t._v("题："+t._s(a.title))]),e("el-radio-group",{model:{value:t.option,callback:function(e){t.option=e},expression:"option"}},[e("el-radio",{attrs:{label:"A"}},[t._v("A "+t._s(a.optionA))]),e("el-radio",{attrs:{label:"B"}},[t._v("B "+t._s(a.optionB))]),e("el-radio",{attrs:{label:"C"}},[t._v("C "+t._s(a.optionC))]),e("el-radio",{attrs:{label:"D"}},[t._v("D "+t._s(a.optionD))])],1),t._v(" "),e("br"),e("el-button",{on:{click:t.next}},[t._v("下一题")]),e("el-button",{on:{click:t.submit}},[t._v("提交")])],1)}))],2)],1)},dt=[],ut={data(){return{option:"",allTestInfo:[],nowTestInfo:[],index:0,options:[],answer:[],score:""}},methods:{toAnswer(){this.$router.go(-1)},async getTest(){let{data:t}=await this.$axios({url:`test/getTest?type=${sessionStorage.getItem("subject")}&number=${sessionStorage.getItem("number")}`});this.allTestInfo=t.data,this.nowTestInfo=this.allTestInfo.filter(((t,e)=>e==this.index))},next(){""==this.option?this.$message.warning("请先选择1个答案"):(this.options.length<5&&this.options.push(this.option),4===this.index?this.$message.warning("已经是最后一道题了"):(this.index++,this.option="",this.nowTestInfo=this.allTestInfo.filter(((t,e)=>e==this.index))))},async submit(){if(this.options.length<4)this.$message.warning("请先填写完题目后，再进行提交");else if(""==this.option)this.$message.warning("请先填写完题目后，再进行提交");else{this.options.length<5&&this.options.push(this.option),this.allTestInfo.forEach((t=>{this.answer.push(t.answer)}));for(let t=0;t<this.allTestInfo.length;t++)this.options[t]==this.answer[t]&&(this.score=+this.score+20);""==this.score?this.score=0:(this.score,this.score),this.$axios({url:"users/score",method:"put",data:{score:this.score,type:sessionStorage.getItem("subject"),id:this.$store.state.userInfo.id}}),this.$store.commit("setScore",this.score),this.$router.replace("/administration/answer")}}},created(){this.getTest()}},mt=ut,gt=(0,o.Z)(mt,ct,dt,!1,null,"1890430a",null),pt=gt.exports;Vue.use(d.ZP);const ht=new d.ZP({routes:[{path:"/",redirect:"/login"},{path:"/login",component:f},{path:"/administration",redirect:"/administration/welcome",component:S,children:[{path:"welcome",component:U},{path:"setting",component:R},{path:"usersInfo",component:z},{path:"release",component:W},{path:"answer",component:at},{path:"score",component:nt},{path:"test",component:pt}]}]});ht.beforeEach(((t,e,a)=>{t.path.startsWith("/administration")?sessionStorage.getItem("token")?a():a("/login"):a()}));var ft=ht,bt=a(6943),vt=Vue,yt=a.n(vt),wt=a(3822);yt().use(wt.ZP);var xt=new wt.ZP.Store({actions:{},mutations:{getXdata(t,e){t.xData=e},startWork(t,e){t.work=e},setScore(t,e){switch(sessionStorage.getItem("subject")){case"html":t.userInfo.html=e;break;case"css":t.userInfo.css=e;break;case"js":t.userInfo.js=e;break;default:break}},setting(t,e){switch(t.userInfo=e[0],e[0].src?t.mySetting.avatar=e[0].src:t.mySetting.avatar=a(6609),e[0].fontfamily?t.mySetting.fontFamily=e[0].fontfamily:t.mySetting.fontFamily="微软雅黑",e[0].theme?t.mySetting.themeColor=e[0].theme:t.mySetting.themeColor="青色",e[0].color?t.mySetting.fontColor=e[0].color:t.mySetting.fontColor="黑色",e[0].background?t.mySetting.loginBg=e[0].background:t.mySetting.loginBg=a(5799),t.mySetting.fontFamily){case"微软雅黑":document.querySelector("html").style.fontFamily="Microsoft YaHe";break;case"宋体":document.querySelector("html").style.fontFamily="SimSun";break;case"仿宋":document.querySelector("html").style.fontFamily="FangSong";break;case"楷体":document.querySelector("html").style.fontFamily="KaiTi";break;case"幼圆":document.querySelector("html").style.fontFamily="YouYuan";break;default:document.querySelector("html").style.fontFamily="Microsoft YaHe";break}let s=document.querySelector("html").className.split(" ");switch(t.mySetting.themeColor){case"青色":s.splice(0,1,"theme1");break;case"粉色":s.splice(0,1,"theme2");break;case"紫色":s.splice(0,1,"theme3");break;case"蓝色":s.splice(0,1,"theme4");break;case"橙色":s.splice(0,1,"theme5");break;case"绿色":s.splice(0,1,"theme6");break;case"红色":s.splice(0,1,"theme7");break;default:s.splice(0,1,"theme1");break}switch(t.mySetting.fontColor){case"黑色":s.splice(1,1,"color1");break;case"粉红色":s.splice(1,1,"color2");break;case"淡紫色":s.splice(1,1,"color3");break;case"蓝色":s.splice(1,1,"color4");break;case"绿色":s.splice(1,1,"color5");break;default:s.splice(1,1,"color1");break}let i=s.join().replace(","," ");document.querySelector("html").className=i}},state:{xData:"",mySetting:{avatar:a(6609),loginBg:a(5799),fontFamily:"微软雅黑",themeColor:"青色",fontColor:"黑色",id:sessionStorage.getItem("id")},userInfo:{},work:""},getters:{},modules:{}});Vue.config.productionTip=!1,bt.Z.defaults.baseURL="http://192.168.43.121:9999/",Vue.prototype.$axios=bt.Z,Vue.prototype.$bus=new Vue,new Vue({store:xt,router:ft,render:t=>t(c)}).$mount("#app")},5208:function(t,e,a){"use strict";t.exports=a.p+"img/logo.e3b8a9b4.png"},6609:function(t,e,a){"use strict";t.exports=a.p+"img/avatar1.a35a2b11.png"},6481:function(t,e,a){"use strict";t.exports=a.p+"img/avatar10.b6ed4505.png"},3229:function(t,e,a){"use strict";t.exports=a.p+"img/avatar11.4a24a56e.png"},7267:function(t,e,a){"use strict";t.exports=a.p+"img/avatar12.e97fc5ff.png"},8816:function(t,e,a){"use strict";t.exports=a.p+"img/avatar2.23bebfd2.png"},2199:function(t,e,a){"use strict";t.exports=a.p+"img/avatar3.be35a761.png"},5903:function(t,e,a){"use strict";t.exports=a.p+"img/avatar4.1bed06ac.png"},1190:function(t,e,a){"use strict";t.exports=a.p+"img/avatar5.34571a9d.png"},9013:function(t,e,a){"use strict";t.exports=a.p+"img/avatar6.4d418054.png"},8566:function(t,e,a){"use strict";t.exports=a.p+"img/avatar7.9295045d.png"},5851:function(t,e,a){"use strict";t.exports=a.p+"img/avatar8.c6f3d34b.png"},3896:function(t,e,a){"use strict";t.exports=a.p+"img/avatar9.711725b6.png"},5799:function(t,e,a){"use strict";t.exports=a.p+"img/loginbg1.d73501f8.png"},9526:function(t,e,a){"use strict";t.exports=a.p+"img/loginbg2.9090118a.png"},4833:function(t,e,a){"use strict";t.exports=a.p+"img/loginbg3.24afeab4.png"},4623:function(t,e,a){"use strict";t.exports=a.p+"img/loginbg4.6ccb7a1e.png"},1890:function(t,e,a){"use strict";t.exports=a.p+"img/loginbg5.3164b0af.png"},5382:function(){},2095:function(){},1219:function(){}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={exports:{}};return t[s].call(r.exports,r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,s,i,r){if(!s){var l=1/0;for(d=0;d<t.length;d++){s=t[d][0],i=t[d][1],r=t[d][2];for(var o=!0,n=0;n<s.length;n++)(!1&r||l>=r)&&Object.keys(a.O).every((function(t){return a.O[t](s[n])}))?s.splice(n--,1):(o=!1,r<l&&(l=r));if(o){t.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[s,i,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.p=""}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,r,l=s[0],o=s[1],n=s[2],c=0;if(l.some((function(e){return 0!==t[e]}))){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);if(n)var d=n(a)}for(e&&e(s);c<l.length;c++)r=l[c],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(d)},s=self["webpackChunkmyadmin"]=self["webpackChunkmyadmin"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(8090)}));s=a.O(s)})();
//# sourceMappingURL=app.c25d4f7b.js.map